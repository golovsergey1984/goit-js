{"version":3,"sources":["webpack:///./api/images.api.js","webpack:///./js/images.js","webpack:///./template/result-images.hbs"],"names":["page","query","fetchImages","requestParams","this","fetch","baseUrl","then","response","json","parsedResponse","icrementPage","hits","string","resetPage","PNotify","defaults","styling","icons","refs","searchForm","document","getElementById","inputResult","querySelector","loadMoreBtn","insertGridList","items","yCoordinateToScroll","body","offsetHeight","markup","restResultTemplate","insertAdjacentHTML","window","scrollTo","top","behavior","windowScroll","hidden","notice","text","addEventListener","e","preventDefault","innerHTML","inputValue","currentTarget","elements","value","error","imagesApi","searchQuery","success","Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","webformatURL","call","tags","likes","views","comments","downloads","stack1","each","program","noop"],"mappings":"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","file":"main.833b12c4196dfadfbf84.js","sourcesContent":["/* 'https://pixabay.com/api/?key=14759738-915ddabe7286f1d5b09b52b7a&q=yellow+flowers&image_type=photo' */\r\n\r\nconst baseUrl = 'https://pixabay.com/api/?key=';\r\nexport default {\r\n  page: 1,\r\n  query: '',\r\n  fetchImages() {\r\n    const API_KEY = '14759738-915ddabe7286f1d5b09b52b7a';\r\n    const requestParams = '&q=' + this.query + '&page=' + this.page;\r\n\r\n    return fetch(baseUrl + API_KEY + requestParams).then(response =>\r\n      response.json().then(parsedResponse => {\r\n        this.icrementPage();\r\n\r\n        return parsedResponse.hits;\r\n      }),\r\n    );\r\n  },\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n  set searchQuery(string) {\r\n    this.query = string;\r\n  },\r\n\r\n  icrementPage() {\r\n    this.page += 1;\r\n  },\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};\r\n","import imagesApi from '../api/images.api';\r\nimport restResultTemplate from '../template/result-images.hbs';\r\nimport PNotify from 'pnotify/dist/es/PNotify';\r\nimport PNotifyButtons from 'pnotify/dist/es/PNotifyButtons';\r\nimport PNotifyStyleMaterial from 'pnotify/dist/es/PNotifyStyleMaterial.js';\r\nPNotify.defaults.styling = 'material';\r\nPNotify.defaults.icons = 'material';\r\n\r\nconst refs = {\r\n  searchForm: document.getElementById('search-form'),\r\n  inputResult: document.querySelector('.gallery'),\r\n  loadMoreBtn: document.querySelector('button[data-action=\"load more\"]'),\r\n};\r\n\r\nrefs.searchForm.addEventListener('submit', searchFormSubmitHandler);\r\nrefs.loadMoreBtn.addEventListener('click', loadMoreImagesHandler);\r\n\r\nfunction searchFormSubmitHandler(e) {\r\n  e.preventDefault();\r\n  clearSearchList();\r\n  const inputValue = e.currentTarget.elements.query.value;\r\n\r\n  if (inputValue === '') {\r\n    PNotify.error({\r\n      text: 'You did not match any topic!',\r\n    });\r\n    return;\r\n  } else {\r\n    imagesApi.resetPage();\r\n\r\n    imagesApi.searchQuery = inputValue;\r\n\r\n    imagesApi.fetchImages().then(insertGridList);\r\n  }\r\n}\r\n\r\nfunction insertGridList(items) {\r\n  const yCoordinateToScroll = document.body.offsetHeight;\r\n  const markup = restResultTemplate(items);\r\n  if (markup === '') {\r\n    PNotify.notice({\r\n      text: 'Tere is no matches with your request. Please, enter another topic',\r\n    });\r\n\r\n    return;\r\n  }\r\n\r\n  refs.inputResult.insertAdjacentHTML('beforeend', markup);\r\n  windowScroll(yCoordinateToScroll);\r\n  refs.loadMoreBtn.hidden = false;\r\n}\r\n\r\nfunction loadMoreImagesHandler() {\r\n  imagesApi.fetchImages().then(insertGridList);\r\n\r\n  PNotify.success({\r\n    text: 'new pictures uploaded successfully',\r\n  });\r\n}\r\n\r\nfunction clearSearchList() {\r\n  refs.inputResult.innerHTML = '';\r\n}\r\n\r\nfunction windowScroll(yCoordinateToScroll) {\r\n  /* window.scrollTo(0, yCoordinateToScroll); */\r\n\r\n  window.scrollTo({\r\n    top: yCoordinateToScroll,\r\n    behavior: 'smooth',\r\n  });\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class=\\\"photo-card post\\\">\\r\\n    <div class=\\\"box-img\\\" id='img'>\\r\\n        <img src=\\\"\"\n    + alias4(((helper = (helper = helpers.webformatURL || (depth0 != null ? depth0.webformatURL : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":18},\"end\":{\"line\":4,\"column\":34}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = helpers.tags || (depth0 != null ? depth0.tags : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":41},\"end\":{\"line\":4,\"column\":49}}}) : helper)))\n    + \"\\\" class=\\\"image\\\" />\\r\\n    </div>\\r\\n    <div class=\\\"stats\\\">\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">thumb_up</i><br>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.likes || (depth0 != null ? depth0.likes : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":12},\"end\":{\"line\":9,\"column\":21}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">visibility</i><br>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.views || (depth0 != null ? depth0.views : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":12},\"end\":{\"line\":13,\"column\":21}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">comments</i><br>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.comments || (depth0 != null ? depth0.comments : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":12},\"end\":{\"line\":17,\"column\":24}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">cloud_download</i><br>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.downloads || (depth0 != null ? depth0.downloads : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":12},\"end\":{\"line\":21,\"column\":25}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":25,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}