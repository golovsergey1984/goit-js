{"version":3,"sources":["webpack:///./js/scroll.js","webpack:///./template/result-images.hbs"],"names":["PNotify","defaults","styling","icons","feedContainer","document","querySelector","inputValue","refs","searchForm","getElementById","inputResult","loadMoreBtn","addEventListener","e","innerHTML","infScrollInstance","pageIndex","value","preventDefault","input","currentTarget","elements","query","console","log","error","text","loadNextPage","infiniteScroll","responseType","history","path","this","on","response","markup","JSON","parse","hits","map","item","imageTemplate","join","proxyEL","createElement","parsedItems","querySelectorAll","appendItems","success","notice","infScroll","Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","webformatURL","call","tags","likes","views","comments","downloads"],"mappings":"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","file":"main.8a6cc5ba948bde5009e9.js","sourcesContent":["import infiniteScroll from 'infinite-scroll';\r\nimport imageTemplate from '../template/result-images.hbs';\r\n\r\nimport PNotify from 'pnotify/dist/es/PNotify';\r\nimport PNotifyButtons from 'pnotify/dist/es/PNotifyButtons';\r\nimport PNotifyStyleMaterial from 'pnotify/dist/es/PNotifyStyleMaterial.js';\r\nPNotify.defaults.styling = 'material';\r\nPNotify.defaults.icons = 'material';\r\n\r\nconst API_KEY = '14759738-915ddabe7286f1d5b09b52b7a';\r\nconst feedContainer = document.querySelector('#feed');\r\nlet inputValue = '';\r\n\r\nconst refs = {\r\n  searchForm: document.getElementById('search-form'),\r\n  inputResult: document.querySelector('.gallery'),\r\n  loadMoreBtn: document.querySelector('button[data-action=\"load more\"]'),\r\n};\r\n\r\nrefs.searchForm.addEventListener('submit', listener);\r\n\r\nfunction listener(e) {\r\n  clearSearchList();\r\n\r\n  infScrollInstance.pageIndex = 1;\r\n  refs.searchForm.value = '';\r\n  e.preventDefault();\r\n\r\n  const form = e.currentTarget;\r\n  const input = form.elements.query;\r\n  inputValue = input.value;\r\n  console.log(inputValue);\r\n  if (inputValue === '') {\r\n    PNotify.error({\r\n      text: 'You did not match any topic!',\r\n    });\r\n    return;\r\n  } else {\r\n    infScrollInstance.loadNextPage();\r\n  }\r\n}\r\n\r\nconst infScrollInstance = new infiniteScroll(feedContainer, {\r\n  responseType: 'text',\r\n  history: false,\r\n\r\n  path: function() {\r\n    return (\r\n      'https://cors-anywhere.herokuapp.com/https://pixabay.com/api/?key=' +\r\n      API_KEY +\r\n      '&q=' +\r\n      inputValue +\r\n      '&page=' +\r\n      this.pageIndex +\r\n      '&per_page=12'\r\n    );\r\n  },\r\n});\r\n\r\ninfScrollInstance.on('load', response => {\r\n  const images = JSON.parse(response);\r\n  const items = images.hits;\r\n\r\n  const markup = items.map(item => imageTemplate(item)).join('');\r\n  if (markup === '') {\r\n    PNotify.notice({\r\n      text: 'Tere is no matches with your request. Please, enter another topic',\r\n    });\r\n    return;\r\n  }\r\n  const proxyEL = document.createElement('div');\r\n  proxyEL.innerHTML = markup;\r\n\r\n  const parsedItems = proxyEL.querySelectorAll('.photo-card');\r\n\r\n  infScrollInstance.appendItems(parsedItems);\r\n  PNotify.success({\r\n    text: 'new pictures uploaded successfully',\r\n  });\r\n});\r\n\r\ninfScroll.on('error', function(error, path) {\r\n  PNotify.error({\r\n    text: 'Try later. The server is busy now',\r\n  });\r\n});\r\n\r\nfunction clearSearchList() {\r\n  refs.inputResult.innerHTML = '';\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class=\\\"photo-card post\\\">\\r\\n    <div class=\\\"box-img\\\" id='img'>\\r\\n        <img src=\\\"\"\n    + alias4(((helper = (helper = helpers.webformatURL || (depth0 != null ? depth0.webformatURL : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":18},\"end\":{\"line\":3,\"column\":34}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = helpers.tags || (depth0 != null ? depth0.tags : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":41},\"end\":{\"line\":3,\"column\":49}}}) : helper)))\n    + \"\\\" class=\\\"image\\\" />\\r\\n    </div>\\r\\n    <div class=\\\"stats\\\">\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">thumb_up</i><br>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.likes || (depth0 != null ? depth0.likes : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":12},\"end\":{\"line\":8,\"column\":21}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">visibility</i><br>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.views || (depth0 != null ? depth0.views : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":12},\"end\":{\"line\":12,\"column\":21}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">comments</i><br>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.comments || (depth0 != null ? depth0.comments : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":12},\"end\":{\"line\":16,\"column\":24}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">cloud_download</i><br>\\r\\n            \"\n    + alias4(((helper = (helper = helpers.downloads || (depth0 != null ? depth0.downloads : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":12},\"end\":{\"line\":20,\"column\":25}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}